<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Percules – Bong Viz</title>
    <style>
      body {
        margin: 0;
        background: #0b1020;
        color: #eaf2ff;
        font-family: system-ui, Segoe UI, Roboto;
      }
      .wrap {
        display: grid;
        grid-template-columns: 320px 1fr;
        gap: 12px;
        height: 100vh;
        padding: 12px;
        box-sizing: border-box;
      }
      .panel {
        background: #111a33;
        border: 1px solid #223;
        border-radius: 12px;
        padding: 12px;
      }
      canvas {
        width: 100%;
        height: 100%;
        display: block;
        border-radius: 12px;
        background: linear-gradient(#09122a, #0c1d44);
      }
      label {
        display: grid;
        grid-template-columns: 1fr auto;
        gap: 8px;
        margin: 8px 0;
      }
      input[type="range"] {
        width: 100%;
      }
      .row {
        display: flex;
        gap: 8px;
      }
      button {
        background: #1b2549;
        color: #fff;
        border: 1px solid #2b3a77;
        border-radius: 10px;
        padding: 8px 12px;
        cursor: pointer;
      }
      .hud {
        font-variant-numeric: tabular-nums;
        color: #cfe;
      }
    </style>
  </head>
  <body>
    <div class="wrap">
      <section class="panel">
        <h3>Percules – Bong Visualization</h3>
        <label>Draw depth (Pa below atm) <span id="lblDraw">7000</span></label>
        <input
          id="draw"
          type="range"
          min="0"
          max="10000"
          value="7000"
          step="100"
        />
        <label>Water height (cm) <span id="lblWater">6.0</span></label>
        <input id="water" type="range" min="3" max="14" value="6" step="0.5" />
        <label>Downstem tip depth (cm) <span id="lblDepth">5.0</span></label>
        <input id="depth" type="range" min="2" max="12" value="5" step="0.5" />
        <label>Mouth tube length (cm) <span id="lblMouthLen">22.0</span></label>
        <input id="mouthLen" type="range" min="10" max="35" value="22" step="1" />
        <label>Mouth inner diameter (mm) <span id="lblMouthDia">34</span></label>
        <input
          id="mouthDia"
          type="range"
          min="18"
          max="50"
          value="34"
          step="1"
        />
        <label>Stem conductance (×1e-6) <span id="lblStem">1.2</span></label>
        <input
          id="stem"
          type="range"
          min="0.3"
          max="5"
          value="1.2"
          step="0.1"
        />
        <label>Mouth conductance (×1e-9) <span id="lblMouth">6.0</span></label>
        <input id="mouth" type="range" min="1" max="20" value="6" step="0.5" />
        <div class="row" style="margin-top: 8px">
          <button id="reset">Reset</button>
          <button id="audioStart">Start Audio</button>
          <button id="audioStop">Stop Audio</button>
          <button id="audioMute">Mute</button>
        </div>
        <label>
          Master volume
          <span id="lblVolume">80%</span>
        </label>
        <input
          id="audioVolume"
          type="range"
          min="0"
          max="100"
          value="80"
          step="1"
        />
        <label>
          Plink mix
          <span id="lblMix">75%</span>
        </label>
        <input
          id="audioMix"
          type="range"
          min="0"
          max="100"
          value="75"
          step="1"
        />
        <div class="hud" id="hud" style="margin-top: 10px"></div>
      </section>
      <section class="panel" style="position: relative; overflow: hidden">
        <canvas id="view" width="1280" height="800"></canvas>
      </section>
    </div>

    <script type="module" src="/app.js"></script>
  </body>
</html>
